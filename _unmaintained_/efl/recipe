pkg=efl
ver=1.17.0
rel=1
sum="Enlightenment Foundation Libraries"
lic="BSD, custom, GPL2, LGPL2.1"
url=http://www.enlightenment.org
dep=(bullet3 curl fribidi gst-plugins-base libjpeg-turbo libwebp pulseaudio libxcomposite libxcursor libxinerama libxkbcommon libxp libxrandr libxss luajit lz4 mesa shared-mime-info wayland flac libinput)
mkd=(gstreamer)
opt=(!emptydirs)
src=(http://download.enlightenment.org/rel/libs/$pkg/$pkg-$ver.tar.gz)
sha=(046ff2c5fe769d749278f9d3e5b85e25cb4d1070bd1b8b54ee6831d81739f3c5)

build() {
    ./configure --prefix=/usr \
                --disable-static \
                --enable-xinput22 \
                --enable-multisense \
                --enable-systemd \
                --enable-wayland \
                --enable-fb \
                --disable-tslib \
                --enable-drm \
                --enable-harfbuzz \
                --enable-image-loader-webp \
                --enable-liblz4 \
                --with-opengl=full
    make
}

package() {
    make DESTDIR=$pkgdir install
    
    # install non-standard license files
    install -Dm644 licenses/COPYING.BSD $pkgdir/usr/share/licenses/$pkg/COPYING.BSD
    install -Dm644 licenses/COPYING.SMALL $pkgdir/usr/share/licenses/$pkg/COPYING.SMALL
}
