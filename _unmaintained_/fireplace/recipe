pkg=fireplace
ver=1.0.3
rel=1
sum="Modular wayland window manager written in rust "
lic=MIT
url=https://github.com/Drakulix/fireplace
dep=(wlc pixman wayland libxkbcommon libinput libx11 libxcb libdrm mesa fontconfig freetype dbus systemd)
mkd=(wayland-protocols llvm cargo)
src=($pkg-$ver.tar.gz::https://github.com/Drakulix/$pkg/archive/v${ver}.tar.gz)
sha=(0ec09043a3f1ec310c1ec48ee4b15b469d2f98b46d6ec41c286ef9d70faa280a)

build() {
    patch -Np1 -i $rcsdir/fireplace-buttom.patch
    cargo build --release
}

package() {
    install -Dm755 fireplace $pkgdir/usr/bin/fireplace
    install -Dm644 fireplace.yaml $pkgdir/etc/fireplace.yaml
    install -Dm644 fireplace.desktop $pkgdir/usr/share/wayland-sessions/fireplace.desktop
}
