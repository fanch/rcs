pkg=fireplace
ver=3.1.0
rel=1
sum="Modular wayland window manager written in rust "
lic=MIT
url=https://github.com/Drakulix/fireplace
dep=(wlc pixman wayland libxkbcommon libinput libx11 libxcb libdrm mesa fontconfig freetype dbus systemd)
mkd=(wayland-protocols llvm cargo)
src=($pkg-$ver.tar.gz::https://github.com/Drakulix/$pkg/archive/v${ver}.tar.gz)
sha=(378ae6bad549e20ddb11d6d7ec1929924b8a7d052e7f2253deb54db8a33c8be3)

build() {
    cd fireplace

    cargo build --release
}

package() {
    install -Dm755 target/release/fireplace $pkgdir/usr/bin/fireplace
    install -Dm644 fireplace.yaml $pkgdir/etc/fireplace/fireplace.yaml
    #install -Dm644 fireplace.desktop $pkgdir/usr/share/wayland-sessions/fireplace.desktop

    install -m755 $rcsdir/start_fireplace.sh $pkgdir/usr/bin/start_fireplace
    install -Dm644 $rcsdir/fireplace.desktop $pkgdir/usr/share/wayland-sessions/fireplace.desktop
}
