pkg=gtk3
ver=3.21.4
rel=1
sum="GObject-based multi-platform GUI toolkit"
lic=LGPL
url=http://www.gtk.org
dep=(adwaita-icon-theme gdk-pixbuf at-spi2-atk atk cairo libepoxy libxcomposite libxcursor libxdamage libxi libxinerama libxkbcommon libxrandr pango shared-mime-info wayland)
mkd=(gobject-introspection libcanberra wayland-protocols)
src=(https://download.gnome.org/sources/gtk+/${ver:0:4}/gtk+-$ver.tar.xz)
sha=(46bb46c420b1406dcb7d6034a9a4c80340f0db464fb98a8c271343bf56e43cf1)

build() {
    ./configure --prefix=/usr \
                --sysconfdir=/etc \
                --localstatedir=/var \
                --enable-x11-backend \
                --enable-wayland-backend \
                --disable-gtk2-dependency \
                --disable-schemas-compile
    make
}

package() {
    make DESTDIR=$pkgdir install

    install -Dm644 $rcsdir/settings.ini $pkgdir/etc/gtk-3.0/settings.ini
}
